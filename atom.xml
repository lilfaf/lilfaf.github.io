<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Louis Larpin]]></title>
  <link href="http://lilfaf.github.io/atom.xml" rel="self"/>
  <link href="http://lilfaf.github.io/"/>
  <updated>2013-10-08T15:00:19+02:00</updated>
  <id>http://lilfaf.github.io/</id>
  <author>
    <name><![CDATA[Louis Larpin]]></name>
    <email><![CDATA[louis.larpin@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Play Vimeo Videos on iOS With Ease]]></title>
    <link href="http://lilfaf.github.io/blog/2013/10/08/play-vimeo-videos-on-ios-with-ease/"/>
    <updated>2013-10-08T13:46:00+02:00</updated>
    <id>http://lilfaf.github.io/blog/2013/10/08/play-vimeo-videos-on-ios-with-ease</id>
    <content type="html"><![CDATA[<h3>Context</h3>

<p>A year ago two friends started an unusual participative trip around the world. They came up with a crowd funded project called <a href="http://www.youmakemytrip.com">You Make My Trip</a>. Nearly every month they let users vote for a challenge based on the customs of the country they are visiting at the current time. Once the challenge has been completed they report their adventure on a mini documentary video. As a friend and supporter, I started building an iphone application but problem was most of their videos were hosted on Vimeo.</p>

<p>So far the only way to play Vimeo video on an iphone application was to embed their <a href="http://developer.vimeo.com/player/embedding">Universal Player</a> into a UIWebView widget. Unfortunately, using this technique I often had an error message saying that the video couldn’t be played on mobile devices.</p>

<p>Therefore I started working on another solution to play all videos without a glitch, called it YTVimeoExtractor.</p>

<!-- more -->


<h3>Introduting YTVimeoExtractor</h3>

<p>YTVimeoExtractor helps you fetch mp4 urls which can be use in iOS’s native player. You can even choose between mobile, standard and high definition quality. The coolest point is that it doesn’t use any UIWebView which makes it fast and clean.</p>

<p>YTVimeoExtractor supports iOS 4.0 and above as it is deployed for an ARC environment.</p>

<h2>Install</h2>

<p>I recommend installing using <a href="http://cocoapods.org">CocoaPods</a>. Just add to your Podfile</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">pod</span> <span class="s1">&#39;YTVimeoExtractor&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>then run <code>pod install</code>.</p>

<p>Alternatively you can just copy the <a href="https://github.com/lilfaf/YTVimeoExtractor/tree/master">YTVimeoExtractor</a> folder to your project.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &quot;YTVimeoExtractor.h&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Usage</h2>

<p>You can either use the block based method passing it the video url and the desired quality</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="p">[</span><span class="n">YTVimeoExtractor</span> <span class="nl">fetchVideoURLFromURL:</span><span class="s">@&quot;http://vimeo.com/58600663&quot;</span>
</span><span class='line'>                               <span class="nl">quality:</span><span class="n">YTVimeoVideoQualityMedium</span>
</span><span class='line'>                               <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="n">NSURL</span> <span class="o">*</span><span class="n">videoURL</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Video URL: %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">videoURL</span> <span class="n">absoluteString</span><span class="p">]);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// handle error</span>
</span><span class='line'><span class="p">}];</span>
</span></code></pre></td></tr></table></div></figure>


<p>or you can use delegation. Just create an YTVimeoExtractor instance.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">self</span><span class="p">.</span><span class="n">extractor</span> <span class="o">=</span> <span class="p">[[</span><span class="n">YTVimeoExtractor</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithURL:</span><span class="s">@&quot;http://vimeo.com/58600663&quot;</span>
</span><span class='line'>                                               <span class="nl">quality:</span><span class="n">YTVimeoVideoQualityHigh</span><span class="p">];</span>
</span><span class='line'><span class="n">self</span><span class="p">.</span><span class="n">extractor</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span>
</span><span class='line'><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">extractor</span> <span class="n">start</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>then implement YTVimeoExtractor callback methods in your ViewController.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">vimeoExtractor:</span><span class="p">(</span><span class="n">YTVimeoExtractor</span> <span class="o">*</span><span class="p">)</span><span class="nv">extractor</span> <span class="nf">didSuccessfullyExtractVimeoURL:</span><span class="p">(</span><span class="n">NSURL</span> <span class="o">*</span><span class="p">)</span><span class="nv">videoURL</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// launch movie player</span>
</span><span class='line'>    <span class="n">self</span><span class="p">.</span><span class="n">playerViewController</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MPMoviePlayerViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithContentURL:</span><span class="n">videoURL</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">playerViewController</span><span class="p">.</span><span class="n">moviePlayer</span> <span class="n">prepareToPlay</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="nl">presentViewController:</span><span class="n">self</span><span class="p">.</span><span class="n">playerViewController</span> <span class="nl">animated:</span><span class="n">YES</span> <span class="nl">completion:</span><span class="nb">nil</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">vimeoExtractor:</span><span class="p">(</span><span class="n">YTVimeoExtractor</span> <span class="o">*</span><span class="p">)</span><span class="nv">extractor</span> <span class="nf">failedExtractingVimeoURLWithError:</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="p">)</span><span class="nv">error</span><span class="p">;</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// handle error</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Check out the <a href="https://github.com/lilfaf/YTVimeoExtractor/tree/master/Sample">sample</a> application for more details.</p>
]]></content>
  </entry>
  
</feed>
